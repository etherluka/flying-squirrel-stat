# OLS 추정량의 분산

OLS 추정량을 구할 때 등장하는 (X<sup>T</sup>X)<sup>-1</sup> 행렬은
역행렬로서 존재하기 위한 조건들을 수반하고, 또한 OLS 추정량의 분산에도 들어가 있다.

주어진 값 X의 각 열이 서로 선형종속적이면, 역행렬이 존재하지 않아 OLS 추정량을 구할 수 없고 
선형종속까지는 아니더라도 높은 상관관계를 가지고 있으면, 추정량까지는 계산 가능하나 다중공선성 문제로 통계적 추론 과정의 신뢰도를 떨어뜨린다.

이번 토픽에서는 다중공선성을 탐지하는 몇 가지 통계값들에 대해 알아볼테니, 
그에 앞서 향후 포스팅의 흐름을 이해하는 데 지장이 없도록 OLS 추정량의 분산 구조를 익혀본다.

# ■ X에 상수항이 포함되어 있을 때

다중회귀모형에서 OLS 추정량을 대할 때 상수항을 X에 같이 포함하여
데이터들이 중심화가 되지 않은 상태에서 통계량이 계산된다. (X의 중심화는 상수항과 관련되어 있다.)

따라서 먼저 일반적인 분산 과정을 살펴본다.

![KakaoTalk_20250517_234512382](https://github.com/user-attachments/assets/cde7421d-fde8-4f47-bf2e-9d050ed90090)

계산의 편의를 위해 'A'로 치환해놓았던 부분을 계산하고, 최종 분산을 구해준다.

![KakaoTalk_20250517_234512382_01](https://github.com/user-attachments/assets/91147ea4-831a-4239-910b-6e5a416f7e56)

# ■ X에 상수항이 포함되지 않을 때

다중공선성 문제는 '예측변수들 간의 상관관계가 클 때'에 주목한다. 따라서 사실 상수항은 이 과정에서 눈여겨 볼 필요가 없다. 
상수항은 다른 예측변수들과 특정한 상관관계를 가질 수 없기 때문이다. 

그래서 분산을 구할 때 이번에는 X 데이터에서 상수항을 제외하고 계산해본다. 
상수항이 빠지면서 X 데이터가 중심화되는 것이 차이점으로 눈여겨볼만 하다.

먼저 상수항이 없는 X_j 행렬과 상수항으로 이루어진 j 벡터로 P_j를 만들어낸다.

![KakaoTalk_20250518_003139990](https://github.com/user-attachments/assets/7b4ae39f-2b8d-419b-900c-33ccad3d1bff)

먼저 다중회귀모형에서 상수항이 없는 OLS 추정량을 계산해본다.

![KakaoTalk_20250518_003139990_01](https://github.com/user-attachments/assets/e9b49323-605f-45d3-89f3-96250babc5c6)

위 OLS 추정량 계산 결과를 가지고 분산을 계산한다.

![KakaoTalk_20250518_003139990_02](https://github.com/user-attachments/assets/009177a6-f6a0-4abc-8851-619d2cd0252d)

사실 중심화된 부분만 다르지, 위에서 구한 분산과 같은 구조를 가지고 있음을 알 수 있다.

![KakaoTalk_20250518_003139990_03](https://github.com/user-attachments/assets/46a378b8-418a-4be7-b9ce-8fa16f1f0645)

