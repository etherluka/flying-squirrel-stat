# 주성분 회귀를 활용한 다중공선성 제거

지금까지 Xs들의 선형결합으로 이루어진 주성분 C들을 통해 
같은 정보를 보존하면서 동시에 변수들 간 직교를 이루게 하여, 회귀모형 가정을 지키는 방법을 알아보았다.

C들이 X 데이터 정보를 그대로 가지고 있다면, X 변수들 간 공선성이 있는 만큼 모든 C를 사용하는 것은 
그 문제를 그대로 가져오는 것밖에 되지 않는다. 

이전 포스팅에서 C1, C2, C3 중 C3의 분산이 0이라는 것을 살펴보았다. Var(C3)=Eigen value3이다.
Eigen value가 0이라는 것은 그 방향으로 선형공간이 늘어나지 않는다는 것을 의미하고, 
그렇게 차원이 하나 없어질 만큼 심각한 다중공선성이 있는 경우라고 생각할 수 있다. 

주성분의 특성 파트에서 논의했다시피, 표준화된 X들의 선형결합으로 이루어졌기에 평균은 0이다. 또한 C3의 분산이 0이라고 하면
C3은 변동없는 상수이고 그 값은 0이 된다. 

회귀분석에서 설명변수가 상수가 되면, 그것은 설명변수로서 의미가 없다. 
따라서 C3을 모형에서 제거할 수 있고, 이를 통해 상관성이 있는 부분을 제거해 다중공선성 문제를 해결할 수 있게 된다. 

# ■ 모형 내 주성분의 갯수

다음과 같이 C1만 활용한 모형1, C1과 C2만 넣은 모형2를 고려해보자.
![KakaoTalk_20250529_163212687](https://github.com/user-attachments/assets/326c3639-0070-46bb-8400-ec68acae740b)

먼저 모형1을 보면 DOPROD와 CONSUM은 같은 효과를 미치고 있음을 알 수 있다. 반면에 STOCK은 거의 0에 수렴한 회귀계수값을 보인다. 
따라서 C1은 DOPROD와 CONSUM을 표현한 주성분이라고 볼 수 있겠다. 

모형2를 모형1과 비교해보면, DOPROD와 CONSUM의 계수는 거의 변동이 없는 반면, STOCK의 계수가 0에서 0.2 정도로 크게 증가한 것을 볼 수 있다. 
기존 계수들에는 변화가 없고 0이었던 변수의 계수가 유의하게 올랐으므로 C2는 STOCK의 변량을 표현하는 주성분임을 알 수 있다. 

이번에는 모형2를 C1,C2,C3를 모두 포함한 모형3과 비교해보자.
![KakaoTalk_20250529_163212687_01](https://github.com/user-attachments/assets/52ec26b8-4457-47b3-8e39-26b7fe51b505)

종속변수인 IMPORT를 설명하는 데 있어서, 모형3에서 국내생산을 의미하는 DOPROD의 계수가 음수가 되는 것은 이론적으로 납득하기 어렵다. 
반면 모형2는 DOPROD와 CONSUM의 공변량을 제거한 상태에서, 각 변수가 종속변수에 미치는 영향을 잘 표현하고 있다. 

따라서 C1과 C2가 들어간 모형2가 위 두 가지 이유로 더 적절한 모형임을 예상해볼 수 있다. 


